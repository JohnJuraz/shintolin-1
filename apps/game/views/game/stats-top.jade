mixin progress(label, current, max, colorClass, title, content)
  - var pct = Math.floor(rounded(current)/rounded(max) * 100);
  - if (pct > 100) { pct = 100; }
  .stat(data-toggle='tooltip', data-placement='top', title=title)
    label #{label}
    .progress
      .progress-bar(class=colorClass, role='progressbar', aria-valuenow=rounded(current), aria-valuemin='0', aria-valuemax=rounded(max), style='width: #{pct}%;')
      if content
        .content #{content}
      else
        .content #{rounded(current)}/#{rounded(max)}

.statsbox-top
  .container
    .row
      .col-sm-12
        mixin progress('HP', character.hp, character.hp_max, 'progress-bar-danger')
        mixin progress('AP', character.ap, 100, 'progress-bar-success', '+' + rounded(recovery) + ' AP/hour')
        mixin progress('Hunger', (12 - character.hunger), 12, 'progress-bar-warning', rounded(hunger_debuff) + ' AP/hr')
        mixin progress('Weight', character.weight, max_weight, 'progress-bar-default', undefined, encumberance)
