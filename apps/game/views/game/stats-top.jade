mixin progress(label, current, max, colorClass, title, content)
  - var pct = Math.floor(rounded(current)/rounded(max) * 100);
  - if (pct > 100) { pct = 100; }
  .stat(data-toggle='tooltip', data-placement='top', title=(title || '#{rounded(current)}/#{rounded(max)}'))
    label #{label}
    .progress
      .progress-bar(class=colorClass, role='progressbar', aria-valuenow=rounded(current), aria-valuemin='0', aria-valuemax=rounded(max), style='width: #{pct}%;')
      if content
        .content #{content}
      else
        .content #{rounded(current)}/#{rounded(max)}

.statsbox-top
  .container
    .row
      .col-sm-12
        mixin progress('HP', character.hp, character.hp_max, 'progress-bar-danger')
        mixin progress('AP', character.ap, 100, 'progress-bar-warning', rounded(character.ap) + '/100<br>+' + character.recovery + ' AP/hour')
        mixin progress('Food', character.hunger, 12, 'progress-bar-success')
        mixin progress('Weight', character.weight, max_weight, 'progress-bar-default', encumberance, encumberance)
